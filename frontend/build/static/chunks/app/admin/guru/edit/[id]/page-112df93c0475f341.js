(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3796],{85033:function(a,e,n){Promise.resolve().then(n.bind(n,49628)),Promise.resolve().then(n.bind(n,26843)),Promise.resolve().then(n.bind(n,52339))},52339:function(a,e,n){"use strict";n.d(e,{default:function(){return f}});var t=n(5862),i=n(94231),s=n(97931),l=n(86349),r=n(81314),o=n(95700),u=n(59155),d=n(61962),c=n(57026),h=n(67058),m=n(7516),v=n(38230),g=n(65042);let p=[{href:"/admin/dashboard",name:"Dashboard"},{href:"/admin/guru",name:"Guru"},{name:"Edit Guru"}];function f(){var a,e,n,f;let b=(0,m.useRouter)(),j=(0,m.usePathname)().split("/").pop(),[k]=(0,c.fP)(["accessToken"]),[_,P]=(0,h.useState)({nama_lengkap:"",nip:"",status:{id:""},jabatan:{id:""},golongan:{id:""},agama:{id:""},jenis_kelamin:"",no_telp:"",alamat:""});(0,h.useEffect)(()=>{(async()=>{try{var a;let e=k.accessToken,n=await s.Z.get("".concat(g.env.API_URL,"/api/guru/").concat(j),{headers:{Authorization:"Bearer ".concat(e)}});P(null==n?void 0:null===(a=n.data)||void 0===a?void 0:a.data)}catch(a){console.log(a)}})()},[k.accessToken,j]);let x=async a=>{try{let e=k.accessToken,n=await s.Z.patch("".concat(g.env.API_URL,"/api/guru/").concat(j),a,{headers:{Authorization:"Bearer ".concat(e)}});200===n.status&&(l.ZP.success("Guru berhasil diedit!"),b.refresh(),b.push("/admin/guru"))}catch(a){409===a.response.status?l.ZP.error("Guru sudah ada"):l.ZP.error("Terjadi kesalahan saat mengubah data, silahkan coba lagi!")}};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(o.Z,{title:"Edit Guru",breadcrumb:p}),(0,t.jsx)(u.l,{onSubmit:x,validationSchema:v.p,useFormProps:{values:{nama_lengkap:null==_?void 0:_.nama_lengkap,nip:null==_?void 0:_.nip,statusId:null==_?void 0:null===(a=_.status)||void 0===a?void 0:a.id,jabatanId:null==_?void 0:null===(e=_.jabatan)||void 0===e?void 0:e.id,golonganId:null==_?void 0:null===(n=_.golongan)||void 0===n?void 0:n.id,agamaId:null==_?void 0:null===(f=_.agama)||void 0===f?void 0:f.id,jenis_kelamin:null==_?void 0:_.jenis_kelamin,no_telp:null==_?void 0:_.no_telp,alamat:null==_?void 0:_.alamat},mode:"onChange"},children:a=>{let{register:e,control:n,formState:{errors:s}}=a;return(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsx)(r.Z,{control:n,register:e,errors:s}),(0,t.jsxs)("div",{className:"flex items-center justify-end gap-3",children:[(0,t.jsx)(d.Button,{type:"submit",size:"lg",children:"Edit Guru"}),(0,t.jsx)(i.default,{href:"/admin/guru",children:(0,t.jsx)(d.Button,{size:"lg",className:" cursor-pointer bg-red-500 hover:bg-red-700 ",children:"Batalkan"})})]})]})}})]})}}},function(a){a.O(0,[5472,1209,3547,177,7026,733,1309,3671,158,660,1744],function(){return a(a.s=85033)}),_N_E=a.O()}]);