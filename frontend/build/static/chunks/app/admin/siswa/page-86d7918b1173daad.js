(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4113],{70115:function(e,a,t){Promise.resolve().then(t.bind(t,49628)),Promise.resolve().then(t.bind(t,26843)),Promise.resolve().then(t.bind(t,5544))},59889:function(e,a){"use strict";a.Z=e=>{let a;if(null==e)return"";let t=new Date(e),s=t.getFullYear(),n=t.getDate();switch(t.getMonth()){case 0:a="Januari";break;case 1:a="Februari";break;case 2:a="Maret";break;case 3:a="April";break;case 4:a="Mei";break;case 5:a="Juni";break;case 6:a="Juli";break;case 7:a="Agustus";break;case 8:a="September";break;case 9:a="Oktober";break;case 10:a="November";break;case 11:a="Desember"}return void 0===a?"":"".concat(n," ").concat(a," ").concat(s)}},43272:function(e,a,t){"use strict";t.d(a,{Z:function(){return l}});var s=t(5862),n=t(61962);function i(e){let{strokeWidth:a,...t}=e;return(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:null!=a?a:1.5,stroke:"currentColor",...t,children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M14.74 9l-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 01-2.244 2.077H8.084a2.25 2.25 0 01-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 00-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 013.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 00-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 00-7.5 0"})})}var r=t(51537);function l(e){let{title:a,description:t,onDelete:l}=e;return(0,s.jsxs)(n.Popover,{placement:"left",children:[(0,s.jsx)(n.Popover.Trigger,{children:(0,s.jsx)(n.ActionIcon,{size:"sm",variant:"outline","aria-label":"Delete Item",className:"cursor-pointer hover:!border-gray-900 hover:text-gray-700",children:(0,s.jsx)(i,{className:"h-4 w-4"})})}),(0,s.jsx)(n.Popover.Content,{className:"z-0 ",children:e=>{let{setOpen:i}=e;return(0,s.jsxs)("div",{className:"w-56 pb-2 pt-1 text-left rtl:text-right",children:[(0,s.jsxs)(n.Title,{as:"h6",className:"mb-0.5 flex items-start text-sm text-gray-700 sm:items-center",children:[(0,s.jsx)(r.VeE,{className:"me-1 h-[17px] w-[17px]"})," ",a]}),(0,s.jsx)(n.Text,{className:"mb-2 leading-relaxed text-gray-500",children:t}),(0,s.jsxs)("div",{className:"flex items-center justify-end",children:[(0,s.jsx)(n.Button,{size:"sm",className:"me-1.5 h-7 bg-red-500 hover:bg-red-700",onClick:()=>{l(),i(!1)},children:"Hapus"}),(0,s.jsx)(n.Button,{size:"sm",variant:"outline",className:"h-7",onClick:()=>i(!1),children:"Batal"})]})]})}})]})}},5544:function(e,a,t){"use strict";t.d(a,{default:function(){return v}});var s=t(5862),n=t(97931),i=t(86349),r=t(61917),l=t(20465),c=t(94231),d=t(92830),m=t(59889),o=t(43272),x=t(11897),h=t(61962);let u=e=>{let{onDeleteItem:a}=e;return[{title:(0,s.jsx)(x.qN,{title:"No"}),width:50,dataIndex:"index",key:"index",render:(e,a,t)=>(0,s.jsx)(h.Text,{className:"text-sm",children:t+1})},{title:(0,s.jsx)(x.qN,{title:"Nama Lengkap"}),dataIndex:"nama_lengkap",key:"nama_lengkap",render:e=>(0,s.jsx)(h.Text,{className:"text-sm",children:e})},{title:(0,s.jsx)(x.qN,{title:"NIS"}),dataIndex:"nis",key:"nis",render:e=>(0,s.jsx)(h.Text,{className:"text-sm",children:e})},{title:(0,s.jsx)(x.qN,{title:"NISN"}),dataIndex:"nisn",key:"nisn",render:e=>(0,s.jsx)(h.Text,{className:"text-sm",children:e})},{title:(0,s.jsx)(x.qN,{title:"Tanggal Lahir"}),dataIndex:"tanggal_lahir",key:"tanggal_lahir",render:e=>(0,s.jsx)(h.Text,{className:"text-sm",children:(0,m.Z)(e)})},{title:(0,s.jsx)(x.qN,{title:"Tempat Lahir"}),dataIndex:"tempat_lahir",key:"tempat_lahir",render:e=>(0,s.jsx)(h.Text,{className:"text-sm",children:e})},{title:(0,s.jsx)(x.qN,{title:"Jenis Kelamin"}),dataIndex:"jenis_kelamin",key:"jenis_kelamin",render:e=>(0,s.jsx)(h.Text,{className:"text-sm",children:e})},{title:(0,s.jsx)(x.qN,{title:"Agama"}),dataIndex:"agama",key:"agama",render:e=>(0,s.jsx)(h.Text,{className:"text-sm",children:null==e?void 0:e.nama_agama})},{title:(0,s.jsx)(x.qN,{title:"Kelas"}),dataIndex:"kelas",key:"kelas",render:e=>(0,s.jsx)(h.Text,{className:"text-sm",children:null==e?void 0:e.nama_kelas})},{title:(0,s.jsx)(x.qN,{title:"Nama Wali"}),dataIndex:"nama_wali",key:"nama_wali",render:e=>(0,s.jsx)(h.Text,{className:"text-sm",children:e})},{title:(0,s.jsx)(x.qN,{title:"No Telp Wali"}),dataIndex:"no_telp_wali",key:"no_telp_wali",render:e=>(0,s.jsx)(h.Text,{className:"text-sm",children:e})},{title:(0,s.jsx)(x.qN,{title:"Alamat"}),dataIndex:"alamat",key:"alamat",render:e=>(0,s.jsx)(h.Text,{className:"text-sm",children:e})},{title:(0,s.jsx)(x.qN,{title:"Aksi"}),dataIndex:"id",width:20,key:"id",render:e=>(0,s.jsxs)("div",{className:"flex items-center justify-end gap-3 pe-4",children:[(0,s.jsx)(h.Tooltip,{size:"sm",content:"Edit Siswa",placement:"top",color:"invert",children:(0,s.jsx)(c.default,{href:"/admin/siswa/edit/".concat(e),children:(0,s.jsx)(h.ActionIcon,{size:"sm",variant:"outline","aria-label":"Edit Siswa",children:(0,s.jsx)(d.Z,{className:"h-4 w-4"})})})}),(0,s.jsx)(o.Z,{title:"Hapus Siswa",description:"Apakah kamu yakin ingin mengapus data siswa ini? ",onDelete:()=>a(e)})]})}]};var j=t(51537);let k=[{href:"/admin/dashboard",name:"Dashboard"},{name:"Siswa"}];function N(e){let{data:a,onDeleteData:t}=e;return(0,s.jsx)(s.Fragment,{children:(0,s.jsx)(r.Z,{title:"Siswa",breadcrumb:k,data:a,urlButton:"/admin/siswa/tambah",buttonText:"Tambah Siswa",iconText:(0,s.jsx)(j.$eR,{className:"me-1.5 h-[17px] w-[17px]"}),children:(0,s.jsx)(l.Z,{title:"Data Siswa",variant:"modern",data:a,getColumns:u,onDelete:t,enablePagination:!0,searchPlaceholder:"Cari siswa...",className:"min-h-[480px] [&_.widget-card-header]:items-center [&_.widget-card-header_h5]:font-medium"})})})}var g=t(7516),p=t(57026),b=t(67058),f=t(65042);function v(){let e=(0,g.useRouter)(),[a]=(0,p.fP)(["accessToken"]),[t,r]=(0,b.useState)([]),[l,c]=(0,b.useState)(!1),[d,m]=(0,b.useState)(!1);(0,b.useEffect)(()=>{(async()=>{c(!0);try{var e;let t=a.accessToken,s=await n.Z.get("".concat(f.env.API_URL,"/api/siswa"),{headers:{Authorization:"Bearer ".concat(t)}});r(null==s?void 0:null===(e=s.data)||void 0===e?void 0:e.data),c(!1)}catch(e){console.error(e)}finally{c(!1)}})()},[a.accessToken]);let o=async t=>{c(!0);try{let s=a.accessToken,l=await n.Z.delete("".concat(f.env.API_URL,"/api/siswa/").concat(t),{headers:{Authorization:"Bearer ".concat(s)}});200===l.status&&(i.ZP.success("Siswa berhasil dihapus!"),r(e=>e.filter(e=>e.id!==t)),e.refresh(),c(!0))}catch(e){console.log(e),i.ZP.error("Terjadi kesalahan saat menghapus data, silahkan coba lagi!")}finally{c(!1)}};return l?(0,s.jsx)("div",{className:"mx-auto flex justify-center ",children:(0,s.jsx)(h.Title,{as:"h6",className:"-me-2 mt-4 font-medium text-gray-500",children:"Loading..."})}):(0,s.jsx)(s.Fragment,{children:(0,s.jsx)(N,{data:t,onDeleteData:o})})}}},function(e){e.O(0,[5472,6782,1209,3547,177,7026,733,522,5079,158,660,1744],function(){return e(e.s=70115)}),_N_E=e.O()}]);